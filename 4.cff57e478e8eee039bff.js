(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{g5yg:function(t,e,n){"use strict";n.r(e),n.d(e,"TrainingModule",function(){return j});var i=n("IL9y"),a=n("tyNb"),c=n("fXoL"),r=n("WhKS"),s=n("ofXK"),o=n("wZkO"),l=n("XiUz"),b=n("3Pt+"),u=n("Wp6s"),g=n("kmnG"),m=n("d3UM"),p=n("FKr1"),f=n("Xa2L"),d=n("bTqV");function h(t,e){if(1&t&&(c.Tb(0,"mat-option",12),c.Ac(1),c.Sb()),2&t){const t=e.$implicit;c.kc("value",t.id),c.Cb(1),c.Cc(" ",t.name," ")}}function S(t,e){if(1&t&&(c.Tb(0,"mat-form-field",9),c.Tb(1,"mat-label"),c.Ac(2,"Choose Excersise"),c.Sb(),c.Tb(3,"mat-select",10),c.zc(4,h,2,2,"mat-option",11),c.Sb(),c.Sb()),2&t){const t=c.fc();c.Cb(4),c.kc("ngForOf",t.excersises)}}function T(t,e){1&t&&c.Ob(0,"mat-spinner",13)}function C(t,e){if(1&t&&(c.Tb(0,"button",14),c.Ac(1,"Start"),c.Sb()),2&t){c.fc();const t=c.pc(2);c.kc("disabled",t.invalid)}}function x(t,e){if(1&t){const t=c.Ub();c.Tb(0,"button",15),c.bc("click",function(){return c.rc(t),c.fc().fetchExcersises()}),c.Ac(1,"Fetch Again"),c.Sb()}}let v=(()=>{class t{constructor(t){this.trainingService=t,this.excersises=[],this.isLoading=!1}ngOnInit(){this.isLoading=!0,this.trainingService.excersisesChanged.subscribe(t=>{this.excersises=t,this.isLoading=!1}),this.fetchExcersises()}fetchExcersises(){this.trainingService.fetchAvailableExcersise()}onStartTraining(t){this.trainingService.startExcersise(t.value.excersise)}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(r.a))},t.\u0275cmp=c.Hb({type:t,selectors:[["app-new-traning"]],decls:12,vars:4,consts:[["fxLayout","","fxLayoutAlign","center",1,"new-training"],[3,"ngSubmit"],["f","ngForm"],["fxFlex.xs","100%","fxFlex","400px"],["fxLayoutAlign","center"],["appearance","fill",4,"ngIf"],["color","accent",4,"ngIf"],["type","submit","mat-raised-button","","color","accent",3,"disabled",4,"ngIf"],["type","button","mat-raised-button","","color","accent",3,"click",4,"ngIf"],["appearance","fill"],["name","excersise","ngModel","","required",""],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["color","accent"],["type","submit","mat-raised-button","","color","accent",3,"disabled"],["type","button","mat-raised-button","","color","accent",3,"click"]],template:function(t,e){if(1&t){const t=c.Ub();c.Tb(0,"section",0),c.Tb(1,"form",1,2),c.bc("ngSubmit",function(){c.rc(t);const n=c.pc(2);return e.onStartTraining(n)}),c.Tb(3,"mat-card",3),c.Tb(4,"mat-card-title",4),c.Ac(5,"Time to start a workout!"),c.Sb(),c.Tb(6,"mat-card-content",4),c.zc(7,S,5,1,"mat-form-field",5),c.zc(8,T,1,0,"mat-spinner",6),c.Sb(),c.Tb(9,"mat-card-actions",4),c.zc(10,C,2,1,"button",7),c.zc(11,x,2,0,"button",8),c.Sb(),c.Sb(),c.Sb(),c.Sb()}2&t&&(c.Cb(7),c.kc("ngIf",!e.isLoading&&e.excersises),c.Cb(1),c.kc("ngIf",e.isLoading),c.Cb(2),c.kc("ngIf",!e.isLoading&&e.excersises),c.Cb(1),c.kc("ngIf",!e.excersises))},directives:[l.c,l.b,b.q,b.l,b.m,u.a,l.a,u.e,u.c,s.l,u.b,g.c,g.g,m.a,b.k,b.n,b.o,s.k,p.m,f.c,d.a],styles:[".new-training[_ngcontent-%COMP%]{padding:30px}"]}),t})();var w=n("+0xr"),y=n("Dh3D"),k=n("M9IT"),A=n("qFsG");function z(t,e){1&t&&(c.Tb(0,"mat-header-cell",14),c.Ac(1,"Date"),c.Sb())}function I(t,e){if(1&t&&(c.Tb(0,"mat-cell"),c.Ac(1),c.Sb()),2&t){const t=e.$implicit;c.Cb(1),c.Bc(t.date)}}function O(t,e){1&t&&(c.Tb(0,"mat-header-cell",14),c.Ac(1,"Name"),c.Sb())}function E(t,e){if(1&t&&(c.Tb(0,"mat-cell"),c.Ac(1),c.Sb()),2&t){const t=e.$implicit;c.Cb(1),c.Bc(t.name)}}function D(t,e){1&t&&(c.Tb(0,"mat-header-cell",14),c.Ac(1,"Calories"),c.Sb())}function L(t,e){if(1&t&&(c.Tb(0,"mat-cell"),c.Ac(1),c.gc(2,"number"),c.Sb()),2&t){const t=e.$implicit;c.Cb(1),c.Bc(c.hc(2,1,t.calories))}}function R(t,e){1&t&&(c.Tb(0,"mat-header-cell",14),c.Ac(1,"Duration"),c.Sb())}function F(t,e){if(1&t&&(c.Tb(0,"mat-cell"),c.Ac(1),c.gc(2,"number"),c.Sb()),2&t){const t=e.$implicit;c.Cb(1),c.Bc(c.hc(2,1,t.duration))}}function M(t,e){1&t&&(c.Tb(0,"mat-header-cell",14),c.Ac(1,"State"),c.Sb())}function N(t,e){if(1&t&&(c.Tb(0,"mat-cell"),c.Ac(1),c.Sb()),2&t){const t=e.$implicit;c.Cb(1),c.Bc(t.state)}}function H(t,e){1&t&&c.Ob(0,"mat-header-row")}function V(t,e){1&t&&c.Ob(0,"mat-row")}let K=(()=>{class t{constructor(t){this.trainingService=t,this.dataSource=new w.k,this.displayColumns=["date","name","calories","duration","state"],this.inputValue="",this.pageSizeOption=[1,5,10,25,100]}ngOnInit(){this.trainingService.finishedExcersisesChanges.subscribe(t=>{this.dataSource.data=t}),this.trainingService.fetchCompletedOrCencelledExcersises()}ngAfterViewInit(){this.dataSource.sort=this.sort,this.dataSource.paginator=this.paginator}onFilter(){this.dataSource.filter=this.inputValue.trim().toLowerCase()}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(r.a))},t.\u0275cmp=c.Hb({type:t,selectors:[["app-pasts-traning"]],viewQuery:function(t,e){if(1&t&&(c.Dc(y.a,!0),c.Dc(k.a,!0)),2&t){let t;c.oc(t=c.cc())&&(e.sort=t.first),c.oc(t=c.cc())&&(e.paginator=t.first)}},decls:22,vars:6,consts:[["fxLayoutAlign","end end",2,"padding-right","10px"],["fxFlex","30%"],["matInput","","value","","name","inputValue","placeholder","Search...",3,"ngModel","keyup","ngModelChange"],["matSort","",3,"dataSource"],["matColumnDef","date"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","name"],["matColumnDef","calories"],["matColumnDef","duration"],["matColumnDef","state"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[3,"pageSize","pageSizeOptions"],["mat-sort-header",""]],template:function(t,e){1&t&&(c.Tb(0,"div",0),c.Tb(1,"mat-form-field",1),c.Tb(2,"input",2),c.bc("keyup",function(){return e.onFilter()})("ngModelChange",function(t){return e.inputValue=t}),c.Sb(),c.Sb(),c.Sb(),c.Tb(3,"mat-table",3),c.Rb(4,4),c.zc(5,z,2,0,"mat-header-cell",5),c.zc(6,I,2,1,"mat-cell",6),c.Qb(),c.Rb(7,7),c.zc(8,O,2,0,"mat-header-cell",5),c.zc(9,E,2,1,"mat-cell",6),c.Qb(),c.Rb(10,8),c.zc(11,D,2,0,"mat-header-cell",5),c.zc(12,L,3,3,"mat-cell",6),c.Qb(),c.Rb(13,9),c.zc(14,R,2,0,"mat-header-cell",5),c.zc(15,F,3,3,"mat-cell",6),c.Qb(),c.Rb(16,10),c.zc(17,M,2,0,"mat-header-cell",5),c.zc(18,N,2,1,"mat-cell",6),c.Qb(),c.zc(19,H,1,0,"mat-header-row",11),c.zc(20,V,1,0,"mat-row",12),c.Sb(),c.Ob(21,"mat-paginator",13)),2&t&&(c.Cb(2),c.kc("ngModel",e.inputValue),c.Cb(1),c.kc("dataSource",e.dataSource),c.Cb(16),c.kc("matHeaderRowDef",e.displayColumns),c.Cb(1),c.kc("matRowDefColumns",e.displayColumns),c.Cb(1),c.kc("pageSize",5)("pageSizeOptions",e.pageSizeOption))},directives:[l.b,g.c,l.a,A.b,b.c,b.k,b.n,w.j,y.a,w.c,w.e,w.b,w.g,w.i,k.a,w.d,y.b,w.a,w.f,w.h],pipes:[s.e],styles:[""]}),t})();var Q=n("0IaG");let $=(()=>{class t{constructor(t){this.data=t}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(Q.a))},t.\u0275cmp=c.Hb({type:t,selectors:[["ng-component"]],decls:9,vars:3,consts:[["mat-dialog-title",""],["mat-raised-button","","color","warn",3,"mat-dialog-close"],["mat-raised-button","",3,"mat-dialog-close"]],template:function(t,e){1&t&&(c.Tb(0,"h1",0),c.Ac(1,"Are you sure?"),c.Sb(),c.Tb(2,"mat-dialog-content"),c.Ac(3),c.Sb(),c.Tb(4,"mat-dialog-actions"),c.Tb(5,"button",1),c.Ac(6," Yes "),c.Sb(),c.Tb(7,"button",2),c.Ac(8,"No"),c.Sb(),c.Sb()),2&t&&(c.Cb(3),c.Cc("You already got ",e.data.progress,"%"),c.Cb(2),c.kc("mat-dialog-close",!0),c.Cb(2),c.kc("mat-dialog-close",!1))},directives:[Q.g,Q.e,Q.c,d.a,Q.d],encapsulation:2}),t})(),B=(()=>{class t{constructor(t,e){this.dialog=t,this.trainingService=e,this.progress=0,this.trainingExit=new c.o}ngOnInit(){this.startOrResumeTimer()}onStop(){clearInterval(this.timer),this.dialog.open($,{data:{progress:this.progress}}).afterClosed().subscribe(t=>{t?(this.trainingExit.emit(),this.trainingService.cancellExcersise(this.progress)):this.startOrResumeTimer()})}startOrResumeTimer(){const t=this.trainingService.getRunningExcersise().duration/100*1e3;this.timer=setInterval(()=>{this.progress=this.progress+1,this.progress>=100&&(this.trainingService.completeExcersise(),clearInterval(this.timer))},t)}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(Q.b),c.Nb(r.a))},t.\u0275cmp=c.Hb({type:t,selectors:[["app-current-traning"]],outputs:{trainingExit:"trainingExit"},decls:8,vars:2,consts:[["fxLayout","column","fxLayoutAlign","center center",1,"current-training"],["mode","determinate","color","accent",3,"value"],["mat-raised-button","","color","warn",3,"click"]],template:function(t,e){1&t&&(c.Tb(0,"section",0),c.Ob(1,"mat-progress-spinner",1),c.Tb(2,"h1"),c.Ac(3),c.Sb(),c.Tb(4,"p"),c.Ac(5,"Keep on going, you can do it!"),c.Sb(),c.Tb(6,"button",2),c.bc("click",function(){return e.onStop()}),c.Ac(7,"Stop"),c.Sb(),c.Sb()),2&t&&(c.Cb(1),c.kc("value",e.progress),c.Cb(2),c.Cc("",e.progress,"%"))},directives:[l.c,l.b,f.a,d.a],styles:[".current-training[_ngcontent-%COMP%]{padding:50px}"]}),t})();function U(t,e){1&t&&(c.Tb(0,"mat-tab-group"),c.Tb(1,"mat-tab",2),c.Ob(2,"app-new-traning"),c.Sb(),c.Tb(3,"mat-tab",3),c.Ob(4,"app-pasts-traning"),c.Sb(),c.Sb())}function q(t,e){if(1&t){const t=c.Ub();c.Tb(0,"app-current-traning",4),c.bc("trainingExit",function(){return c.rc(t),c.fc().ongoingTraining=!1}),c.Sb()}}const P=[{path:"",component:(()=>{class t{constructor(t){this.trainingService=t,this.ongoingTraining=!1}ngOnInit(){this.trainingService.excersiseChanged.subscribe(t=>{this.ongoingTraining=!!t})}}return t.\u0275fac=function(e){return new(e||t)(c.Nb(r.a))},t.\u0275cmp=c.Hb({type:t,selectors:[["app-traning"]],decls:2,vars:2,consts:[[4,"ngIf"],[3,"trainingExit",4,"ngIf"],["label","New Excersice"],["label","Past Excersice"],[3,"trainingExit"]],template:function(t,e){1&t&&(c.zc(0,U,5,0,"mat-tab-group",0),c.zc(1,q,1,0,"app-current-traning",1)),2&t&&(c.kc("ngIf",!e.ongoingTraining),c.Cb(1),c.kc("ngIf",e.ongoingTraining))},directives:[s.l,o.b,o.a,v,K,B],styles:[""]}),t})()}];let X=(()=>{class t{}return t.\u0275mod=c.Lb({type:t}),t.\u0275inj=c.Kb({factory:function(e){return new(e||t)},imports:[[a.c.forChild(P)],a.c]}),t})(),j=(()=>{class t{}return t.\u0275mod=c.Lb({type:t}),t.\u0275inj=c.Kb({factory:function(e){return new(e||t)},imports:[[i.a,X]]}),t})()}}]);